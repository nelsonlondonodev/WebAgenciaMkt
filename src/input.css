:root {
  --chat--color-primary: #3b82f6;
  --chat--color-primary-shade-50: #2563eb;
  --chat--color-primary-shade-100: #1d4ed8;
  --chat--color-secondary: #10b981;
}

/* 1. Directivas de Tailwind. ESTO VA PRIMERO. */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* 2. Utilidades personalizadas */
@layer utilities {
  .logo-invert-on-dark {
    @apply dark:invert;
  }
  .text-glow-green {
    @apply text-primary-green transition-all duration-300;
    text-shadow: 0 0 8px theme('colors.primary-green');
  }
  .text-glow-blue {
    @apply text-primary-blue transition-all duration-300;
    text-shadow: 0 0 8px theme('colors.primary-blue');
  }
}

/* 3. Tus componentes y estilos personalizados. */
@layer components {
  .header-scrolled {
    @apply bg-white dark:bg-dark-bg shadow-xl;
  }
  .nav-link {
    @apply px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-primary-blue dark:hover:text-primary-green transition-colors;
  }
  .nav-active {
    @apply text-primary-green dark:text-primary-blue font-bold;
  }
  .nav-link-mobile {
    @apply block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-primary-blue dark:hover:text-primary-green transition-colors;
  }
  .cta-button {
    @apply inline-block bg-primary-green hover:bg-emerald-600 dark:bg-primary-blue dark:hover:bg-sky-600 text-white font-semibold py-3 px-8 rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out;
  }
  .section-title {
    @apply text-3xl sm:text-4xl font-bold text-center mb-4 text-gray-800 dark:text-white;
  }
  .section-subtitle {
    @apply text-lg text-center text-gray-600 dark:text-gray-400 mb-12 max-w-2xl mx-auto;
  }
  .service-card {
    @apply bg-light-card/80 dark:bg-dark-card/80 backdrop-blur-lg p-6 sm:p-8 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-500 ease-out;
  }
  .portfolio-item {
    @apply bg-light-card dark:bg-dark-card rounded-lg shadow-lg overflow-hidden transition-all duration-500 ease-out;
  }

  .testimonial-card {
    @apply bg-light-card dark:bg-dark-card p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-500 ease-out flex flex-col hover:-translate-y-4;
  }

  .filter-btn {
    @apply px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 rounded-full shadow-sm hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-blue transition-colors;
  }

  .active-filter {
    @apply bg-primary-blue text-white dark:bg-primary-green dark:text-gray-900;
  }

  .contact-reveal-button {
    @apply inline-flex items-center justify-center px-4 py-2 border border-transparent text-base font-medium rounded-md text-white bg-primary-green hover:bg-emerald-600 dark:bg-primary-blue dark:hover:bg-sky-600 transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out;
  }

  /* SECCIÓN AÑADIDA: Estilos para el interruptor de precios */
  #price-toggle.toggled {
    @apply bg-primary-green;
  }
  #price-toggle.toggled #price-toggle-handle {
    @apply translate-x-5;
  }

  .blog-card {
    @apply bg-light-card dark:bg-dark-card rounded-lg shadow-lg overflow-hidden transition-all duration-300 ease-out flex flex-col;
  }

  /* Nuevos estilos para el contenido del artículo */
  .article-content h2 {
    @apply text-2xl md:text-3xl font-bold text-gray-900 dark:text-white mt-8 mb-4;
  }
  .article-content h3 {
    @apply text-xl md:text-2xl font-bold text-gray-800 dark:text-gray-100 mt-6 mb-3;
  }
  .article-content p {
    @apply text-lg text-gray-700 dark:text-gray-300 leading-relaxed;
  }
  .article-content a {
    @apply text-primary-blue dark:text-primary-green font-semibold underline decoration-primary-blue/50 dark:decoration-primary-green/50 hover:decoration-primary-blue dark:hover:decoration-primary-green transition;
  }
  .article-content ul {
    @apply list-disc list-inside space-y-2 pl-4;
  }
  .article-content ul li {
    @apply text-lg text-gray-700 dark:text-gray-300 leading-relaxed;
  }
  .article-content blockquote {
    @apply border-l-4 border-primary-green dark:border-primary-blue pl-6 py-2 my-6 italic text-xl text-gray-800 dark:text-gray-200;
  }
  .social-share-btn {
    @apply w-12 h-12 text-white rounded-full flex items-center justify-center text-xl transition-all duration-300 ease-in-out transform hover:scale-110;
  }
  .social-share-btn.linkedin {
    @apply text-[#0077b5] bg-white border border-[#0077b5] hover:bg-[#0077b5] hover:text-white dark:bg-[#0077b5] dark:text-white dark:hover:bg-[#005e92];
  }
  .social-share-btn.whatsapp {
    @apply text-[#25D366] bg-white border border-[#25D366] hover:bg-[#25D366] hover:text-white dark:bg-[#25D366] dark:text-white dark:hover:bg-[#1ebe57];
  }
  .social-share-btn.twitter {
    @apply bg-[#1DA1F2] hover:bg-[#1a91da];
  }

  .object-contain-custom {
    object-fit: contain;
  }

  .cookie-banner {
    @apply fixed bottom-4 left-4 w-full max-w-md bg-white dark:bg-gray-800 text-gray-800 dark:text-white p-6 rounded-lg shadow-2xl z-50 transition-all duration-500 ease-in-out;
  }
  .cookie-banner-content {
    @apply flex flex-col;
  }
  .cookie-banner-actions {
    @apply flex items-center space-x-4 mt-4 justify-end;
  }
  .cookie-button-accept {
    @apply bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out;
  }
  .cookie-button-reject {
    @apply bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out;
  }
  .cookie-button-settings {
    @apply text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-white underline;
  }
  .cookie-modal-backdrop {
    @apply fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm;
  }
  .cookie-modal-content {
    @apply bg-light-card dark:bg-dark-card p-8 rounded-xl shadow-2xl max-w-lg w-full;
  }
  .cookie-category {
    @apply mt-4 pt-4 border-t border-gray-200 dark:border-gray-700;
  }
  .cookie-category-header {
    @apply flex items-center justify-between;
  }
  .cookie-toggle {
    @apply relative inline-flex items-center h-6 rounded-full w-11;
  }
  .cookie-toggle-input {
    @apply absolute w-full h-full opacity-0 cursor-pointer;
  }
  .cookie-toggle-slider {
    @apply inline-block w-11 h-6 rounded-full bg-gray-300 dark:bg-gray-700 transition-colors;
  }
  .cookie-toggle-input:checked + .cookie-toggle-slider {
    @apply bg-primary-green dark:bg-primary-blue;
  }
  .cookie-toggle-slider::before {
    @apply inline-block w-4 h-4 transform bg-white rounded-full transition-transform absolute top-1 left-1;
  }
  .cookie-toggle-input:checked + .cookie-toggle-slider::before {
    @apply translate-x-5;
  }

  /* Estilos para el botón de hamburguesa animado */
  #mobileMenuButton span {
    transition: all 0.3s ease-in-out;
  }
  #mobileMenuButton.is-active span:nth-child(1) {
    transform: translateY(0.625rem) rotate(45deg);
  }
  #mobileMenuButton.is-active span:nth-child(2) {
    opacity: 0;
  }
  #mobileMenuButton.is-active span:nth-child(3) {
    transform: translateY(-0.625rem) rotate(-45deg);
  }

  /* --- INICIO: Fondos de sección 'Yema y Clara' --- */
  .section-gradient-green {
        background-image: radial-gradient(circle at 50% 50%, hsla(160, 90%, 60%, 0.25) 0%, hsla(160, 90%, 60%, 0.1) 30%, transparent 60%);
      }.dark .section-gradient-green {
      background-image: radial-gradient(circle at 50% 50%, hsla(160, 90%, 65%, 0.3) 0%, hsla(160, 90%, 65%, 0.1) 35%, transparent 65%);
    }

  .section-gradient-blue {

        background-image: radial-gradient(circle at 50% 50%, hsla(217, 95%, 75%, 0.35) 0%, hsla(217, 95%, 75%, 0.15) 30%, transparent 60%);

      }.dark .section-gradient-blue {
      background-image: radial-gradient(circle at 50% 50%, hsla(217, 95%, 75%, 0.3) 0%, hsla(217, 95%, 75%, 0.1) 35%, transparent 65%);
    }
  /* --- FIN: Fondos de sección 'Yema y Clara' --- */

  /* --- INICIO: Estilos específicos del Hero (Movidos desde HTML inline) --- */
  #inicio-servicio::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 100px;
    /* Usamos theme() para vincularlo a tus variables de Tailwind */
    background: linear-gradient(to top, theme('colors.light-bg'), transparent);
    pointer-events: none;
  }
  
  .dark #inicio-servicio::after {
    background: linear-gradient(to top, theme('colors.dark-bg'), transparent);
  }
  /* --- FIN: Estilos específicos del Hero --- */
}


.scroll-animate-initial {
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}

.scroll-animate-initial.is-visible {
  opacity: 1;
  transform: translateY(0);
}

html {
  height: 100%;
}

body {
  @apply bg-light-bg text-gray-800 dark:bg-dark-bg dark:text-gray-200 transition-colors duration-300;
  min-height: 100%;
  display: flex;
  flex-direction: column;
}

main {
  flex-grow: 1;
}
.sticky-header {
  @apply fixed top-0 left-0 right-0 z-50 bg-white/80 dark:bg-dark-bg/80 backdrop-blur-md shadow-lg transition-all duration-300;
}

.cookie-toggle-slider::before {
  content: '';
}

@layer utilities {
  .animate-fade-in {
    animation: fadeIn 0.5s ease-in-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .bouncing-dot {
    /* Use a vertical bounce animation */
    animation: bounce 1.2s infinite ease-in-out;
  }

  /* Stagger the animation for each dot */
  .bouncing-dot:nth-child(2) {
    animation-delay: 0.2s;
  }

  .bouncing-dot:nth-child(3) {
    animation-delay: 0.4s;
  }

  /* Keyframes for the vertical bouncing animation */
  @keyframes bounce {
    0%,
    100% {
      transform: translateY(0);
      opacity: 1;
    }
    50% {
      transform: translateY(-6px);
      opacity: 0.7;
    }
  }

  .animate-chat-message-in {
    animation: chatMessageIn 0.4s ease-out;
  }

  @keyframes chatMessageIn {
    from {
      opacity: 0;
      transform: translateY(15px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}

#chat-widget-button {
  background-color: #1d4ed8 !important; /* A darker, more solid blue */
}

#chat-window {
  background-color: #ffffff !important; /* Solid white */
}

.dark #chat-window {
  background-color: #000000 !important; /* Solid black for dark mode */
}

@media (max-width: 640px) {
  #chat-window {
    right: 0 !important;
    left: 0 !important;
    bottom: 0 !important;
    max-width: 100% !important;
    height: 80vh !important; /* Adjust height for mobile */
    border-radius: 0 !important; /* Full width, so no radius */
  }

  #chat-widget-container {
    bottom: 1rem !important;
    right: 1rem !important;
  }
}

@keyframes scroll-infinite {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

.animate-infinite-scroll {
  animation: scroll-infinite 30s linear infinite;
}

/* --- Animación Zigzag Eje para Sobre Mí --- */
@keyframes zigzag-axis {
    0% { transform: rotate(0deg); }
    25% { transform: rotate(2deg); }
    50% { transform: rotate(-2deg); }
    75% { transform: rotate(1deg); }
    100% { transform: rotate(0deg); }
}
.hover-zigzag:hover img {
    animation: zigzag-axis 0.6s ease-in-out infinite;
}
