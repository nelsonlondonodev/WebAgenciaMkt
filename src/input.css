/* 1. Directivas de Tailwind. ESTO VA PRIMERO. */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* 2. Utilidades personalizadas */
@layer utilities {
  .logo-invert-on-dark {
    @apply dark:invert dark:brightness-200;
  }
}

/* 3. Tus componentes y estilos personalizados. */
@layer components {
  .header-scrolled {
    @apply bg-white dark:bg-dark-bg shadow-xl;
  }
  .nav-link {
    @apply px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-primary-blue dark:hover:text-primary-green transition-colors;
  }
  .nav-active {
    @apply text-primary-green dark:text-primary-blue font-bold;
  }
  .nav-link-mobile {
    @apply block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-primary-blue dark:hover:text-primary-green transition-colors;
  }
  .cta-button {
    @apply inline-block bg-primary-green hover:bg-emerald-600 dark:bg-primary-blue dark:hover:bg-sky-600 text-white font-semibold py-3 px-8 rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out;
  }
  .section-title {
    @apply text-3xl sm:text-4xl font-bold text-center mb-4 text-gray-800 dark:text-white;
  }
  .section-subtitle {
    @apply text-lg text-center text-gray-600 dark:text-gray-400 mb-12 max-w-2xl mx-auto;
  }
  .service-card {
    @apply bg-light-card dark:bg-dark-card p-8 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-500 ease-out;
  }
  .portfolio-item {
    @apply bg-light-card dark:bg-dark-card rounded-lg shadow-lg overflow-hidden transition-all duration-500 ease-out;
  }

  .testimonial-card {
    @apply bg-light-card dark:bg-dark-card p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-500 ease-out flex flex-col hover:-translate-y-4;
  }

  .filter-btn {
    @apply px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 rounded-full shadow-sm hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-blue transition-colors;
  }

  .active-filter {
    @apply bg-primary-blue text-white dark:bg-primary-green dark:text-gray-900;
  }

  .contact-reveal-button {
    @apply inline-flex items-center justify-center px-4 py-2 border border-transparent text-base font-medium rounded-md text-white bg-primary-green hover:bg-emerald-600 dark:bg-primary-blue dark:hover:bg-sky-600 transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out;
  }

  /* SECCIÓN AÑADIDA: Estilos para el interruptor de precios */
  #price-toggle.toggled {
    @apply bg-primary-green;
  }
  #price-toggle.toggled #price-toggle-handle {
    @apply translate-x-5;
  }

  .blog-card {
    @apply bg-light-card dark:bg-dark-card rounded-lg shadow-lg overflow-hidden transition-all duration-300 ease-out flex flex-col;
  }

  /* Nuevos estilos para el contenido del artículo */
  .article-content h2 {
    @apply text-2xl md:text-3xl font-bold text-gray-900 dark:text-white mt-8 mb-4;
  }
  .article-content h3 {
    @apply text-xl md:text-2xl font-bold text-gray-800 dark:text-gray-100 mt-6 mb-3;
  }
  .article-content p {
    @apply text-lg text-gray-700 dark:text-gray-300 leading-relaxed;
  }
  .article-content a {
    @apply text-primary-blue dark:text-primary-green font-semibold underline decoration-primary-blue/50 dark:decoration-primary-green/50 hover:decoration-primary-blue dark:hover:decoration-primary-green transition;
  }
  .article-content ul {
    @apply list-disc list-inside space-y-2 pl-4;
  }
  .article-content ul li {
    @apply text-lg text-gray-700 dark:text-gray-300 leading-relaxed;
  }
  .article-content blockquote {
    @apply border-l-4 border-primary-green dark:border-primary-blue pl-6 py-2 my-6 italic text-xl text-gray-800 dark:text-gray-200;
  }
  .social-share-btn {
    @apply w-12 h-12 text-white rounded-full flex items-center justify-center text-xl transition-all duration-300 ease-in-out transform hover:scale-110;
  }
  .social-share-btn.linkedin {
    @apply bg-[#0077b5] hover:bg-[#005e92];
  }
  .social-share-btn.whatsapp {
    @apply bg-[#25D366] hover:bg-[#1ebe57];
  }
  .social-share-btn.twitter {
    @apply bg-[#1DA1F2] hover:bg-[#1a91da];
  }

  .object-contain-custom {
    object-fit: contain;
  }

  .cookie-banner {
    @apply fixed bottom-4 left-4 w-full max-w-md bg-white dark:bg-gray-800 text-gray-800 dark:text-white p-6 rounded-lg shadow-2xl z-50 transition-all duration-500 ease-in-out;
  }
  .cookie-banner-content {
    @apply flex flex-col;
  }
  .cookie-banner-actions {
    @apply flex items-center space-x-4 mt-4 justify-end;
  }
  .cookie-button-accept {
    @apply bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out;
  }
  .cookie-button-reject {
    @apply bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out;
  }
  .cookie-button-settings {
    @apply text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-white underline;
  }
  .cookie-modal-backdrop {
    @apply fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm;
  }
  .cookie-modal-content {
    @apply bg-light-card dark:bg-dark-card p-8 rounded-xl shadow-2xl max-w-lg w-full;
  }
  .cookie-category {
    @apply mt-4 pt-4 border-t border-gray-200 dark:border-gray-700;
  }
  .cookie-category-header {
    @apply flex items-center justify-between;
  }
  .cookie-toggle {
    @apply relative inline-flex items-center h-6 rounded-full w-11;
  }
  .cookie-toggle-input {
    @apply absolute w-full h-full opacity-0 cursor-pointer;
  }
  .cookie-toggle-slider {
    @apply inline-block w-11 h-6 rounded-full bg-gray-300 dark:bg-gray-700 transition-colors;
  }
  .cookie-toggle-input:checked + .cookie-toggle-slider {
    @apply bg-primary-green dark:bg-primary-blue;
  }
  .cookie-toggle-slider::before {
    @apply inline-block w-4 h-4 transform bg-white rounded-full transition-transform absolute top-1 left-1;
  }
  .cookie-toggle-input:checked + .cookie-toggle-slider::before {
    @apply translate-x-5;
  }
}

.scroll-animate-initial {
  opacity: 0;
  transform: translateY(20px);
  transition:
    opacity 0.8s ease-out,
    transform 0.8s ease-out;
}

.scroll-animate-initial.is-visible {
  opacity: 1;
  transform: translateY(0);
}

html {
  height: 100%;
}

body {
  @apply bg-light-bg text-gray-800 dark:bg-dark-bg dark:text-gray-200 transition-colors duration-300;
  min-height: 100%;
  display: flex;
  flex-direction: column;
  opacity: 0;
}

main {
  flex-grow: 1;
}
.sticky-header {
  @apply fixed top-0 left-0 right-0 z-50 bg-white/80 dark:bg-dark-bg/80 backdrop-blur-md shadow-lg transition-all duration-300;
}

/* Animación de gradiente para la sección de inicio */
@keyframes moveGradient {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}
.animated-gradient-bg {
  background-size: 200% 200%;
  background-image: linear-gradient(
    to right,
    #f0f9ff,
    #ecfdf5,
    #dbeafe,
    #ecfdf5,
    #f0f9ff
  );
  animation: moveGradient 15s ease infinite;
}
.dark .animated-gradient-bg {
  background-image: linear-gradient(
    to right,
    #0c4a6e,
    #064e3b,
    #1e3a8a,
    #064e3b,
    #0c4a6e
  );
}

body.fade-out {
  opacity: 0;
  transition: opacity 0.3s ease-in-out;
}

body.fade-in {
  opacity: 1;
  transition: opacity 0.3s ease-in-out;
}

.cookie-toggle-slider::before {
  content: '';
}

/* Custom styles for n8n chat button */
body.n8n-chat-open .n8n-chat-toggle {
  background-color: #3B82F6;
}
body.n8n-chat-open .n8n-chat-toggle:hover {
  background-color: #10B981;
}

/* Custom styles for n8n chat window */
body.n8n-chat-open .n8n-chat-window {
  border-radius: 0.75rem; /* 12px */
  overflow: hidden;
}
body.n8n-chat-open .n8n-chat-header {
  background-color: #3B82F6; /* primary-blue */
  color: #FFFFFF;
}
body.n8n-chat-open .n8n-chat-header .title,
body.n8n-chat-open .n8n-chat-header .subtitle {
  color: #FFFFFF;
}
body.n8n-chat-open .n8n-chat-ui-user-message .message-content {
  background-color: #10B981; /* primary-green */
  color: #FFFFFF;
}
body.n8n-chat-open .n8n-chat-ui-user-message .message-arrow {
  border-left-color: #10B981;
}
body.n8n-chat-open .n8n-chat-ui-bot-message .message-content {
  background-color: #F3F4F6; /* gray-100 */
  color: #1F2937; /* gray-800 */
}
body.n8n-chat-open .n8n-chat-ui-bot-message .message-arrow {
  border-right-color: #F3F4F6;
}

@media (max-width: 768px) {
  body.n8n-chat-open .n8n-chat-window {
    width: 100%;
    height: 100%;
    max-height: 100%;
    border-radius: 0;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    padding-top: 1rem;
  }
}

@layer utilities {
  .animate-fade-in {
    animation: fadeIn 0.5s ease-in-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .bouncing-dot {
    /* Use a vertical bounce animation */
    animation: bounce 1.2s infinite ease-in-out;
  }
  
  /* Stagger the animation for each dot */
  .bouncing-dot:nth-child(2) {
    animation-delay: 0.2s;
  }
  
  .bouncing-dot:nth-child(3) {
    animation-delay: 0.4s;
  }

  /* Keyframes for the vertical bouncing animation */
  @keyframes bounce {
    0%, 100% {
      transform: translateY(0);
      opacity: 1;
    }
    50% {
      transform: translateY(-6px);
      opacity: 0.7;
    }
  }
}